clear; clc;
%磁性齒輪-----------------------------
%中環---------------------------------
q_mod = 11;
J_mod = 5.71e-4;
B_mod = 0;
%內環---------------------------------
Psn = 9;
Jsn = 3.16e-4;
Bsn = 0;
%外環-------------------------------
Pa = 2;
Rs = 0.01;
Ld = 3e-5;
Lq = 3e-5;
flux = 0.0563;
%-----------------------------------
Kag = 0.001;%原為50 
BL = 5;
Bs = 1e10;

% %步進馬達-----------------------------
% %中環(鎖住)---------------------------
% q_mod = 48;
% J_mod = 5.71e-4;
% B_mod = 1e10;
% %內環---------------------------------
% Psn = 50;
% Jsn = 2.625e-5;
% Bsn = 2.625e-6;
% %外環---------------------------------
% Pa = 2;
% Rs = 1;
% Ld = 3.9*0.001;
% Lq = 3.9*0.001;
% flux = 0.0084;
% %-------------------------------------
% Kag = 0.001;
% BL = 5;
% Bs = 1e10;

%PMSM-----------------------------
% flux=0.0162642;
% Psn = 4;
% Pa = 4;
% q_mod = 0;
% J_mod = 5.71e-4;
% B_mod = 0;
% Jsn = 3.225e-4;
% Bsn = 3.225e-5;
% Rs = 64.84e-3;
% Ld = 1.27727e-6;
% Lq = 1.27727e-6;
% %-----------------------------------
% Kag = 50;
% BL = 5;
% Bs = 1e10;

%直流馬達-----------------------------
Rs_dc = 0.01;
Ldc = 8.76e-5;
Jdc = 0.0003;
Bdc = 1e-4;
Kc = 1000000;
Ke = 0.0164;
Kt = 0.0164;

motor_bw = 100*2*pi;
velocity_Kp_pi = Jdc*motor_bw;
velocity_Ki_pi = Bdc*motor_bw;
current_Kp = Ldc*10*motor_bw;
current_Ki = Rs_dc*10*motor_bw;